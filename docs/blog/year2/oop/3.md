# Object Interaction
 C'tor and D'tor 构造函数和析构函数
## 构造函数
类的构造函数是类的一种特殊的成员函数，它会在每次创建类的新对象时执行。  
构造函数的名称与类的名称是完全相同的，并且不会返回任何类型，也不会返回 void。构造函数可用于为某些成员变量设置初始值。  

```cpp
class Point{
    //aaaa
};

Poing a;//在这一行执行完之前会调用构造函数
```

构造函数是一个函数，一个类/结构体的构造函数名字和类/结构体一样。
没有返回值，可以有参数，带参数后面调用的时候也要显式传参    
如果自己不写，编译器会自动创建一个不包含参数的构造函数  
```cpp
class X{
    int i;
    public:
        X{};//constructor
}

void(){
    X a;//相当于a.X();调用构造函数，但不需要这么写
}
```

### 带参数的构造函数  
```cpp
#include <iostream>
 
using namespace std;
 
class Line
{
   public:
      void setLength( double len );
      double getLength( void );
      Line(double len);  // 这是构造函数
 
   private:
      double length;
};
 
// 成员函数定义，包括构造函数
Line::Line( double len)
{
    cout << "Object is being created, length = " << len << endl;
    length = len;
}
 
void Line::setLength( double len )
{
    length = len;
}
 
double Line::getLength( void )
{
    return length;
}
// 程序的主函数
int main( )
{
   Line line(10.0);
 
   // 获取默认设置的长度
   cout << "Length of line : " << line.getLength() <<endl;
   // 再次设置长度
   line.setLength(6.0); 
   cout << "Length of line : " << line.getLength() <<endl;
 
   return 0;
}
```

### 使用初始化列表来初始化字段
```cpp
Line::Line(double len): length(len)
{
    cout << "Object is being created, length = " << len << endl;
}

//等同于
Line::Line(double len): 
{
    length = len;
    cout << "Object is being created, length = " << len << endl;
}

```
假设有一个类C，具有多个字段XYZ等需要进行初始化，可以使用  

```cpp
C::C(double a, double b, double c):X(a),Y(b),Z(c)
{
    //.....
}
```

## 析构函数
释放空间销毁对象  
和类同名，本身也是没有返回值的  
析构函数永远没有返回值
对象生命周期终止时自动调用  
```cpp
class Y {
    public:
    ~Y();
};
```

聚合类Aggregate initialization  

Encapsulation封装  

Abstract抽象、modularization模块化  

## local variable 局部变量 
如果类的函数内定义的局部变相和类的成员变量重名了，假设在函数里访问变量会优先访问函数内的局部变量，而不是成员变量，除非使用this->进行区分。  

parameters形参  

局部变量没有默认值  

## 初始化Initialization
### 对成员函数做初始化memberlnit
直接队非静态数据成员初始化（C++11）/在构造函数内做初始化  
### 初始化列表 Initializer list
```cpp
class Point{
    private:
    const float x,y;
    Point(float xa = 0.0,float ya = 0.0):y(ya),x(xa){}//{}都是初始化过程，如果把y(ya),x(xa)放在花括号内，因为x，y是常量，无法进行赋值。
};
```

```cpp
Student::Student(string s):name(s){}
//initialization

Student::Student(string s){name = s;}
//assignment
```

!!! note
    初始化列表困困困

