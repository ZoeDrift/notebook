>因为和23级老师不一样所以这里和23那份笔记可能会有区别（
# 8.地图数据源分析与处理
## 地图数据源概览
### 数据源的重要性
* 数据源的分析与处理是地图设计与编制的重要环节
* 了解制图区域概况，为设计制图流程和设定综合规则提供支持
* 分析和整合多源数据，形成满足新图制作需要的高质量数据

### 1.地图数据：地形图（基础）
数据形式  

* 矢量（DLG）：精度高，效率高
* 栅格（DRG）：扫描纠正，用于参照
* 地理数据库： 国家基础地理信息数据库（1:5万更新工程）。数字制图最重要的直接数据源。

### 2.地图数据：专题与网络地图
### 3.测量数据
* 数字测量
    * GPS-RTK：厘米级精度，效率高
    * 全站仪：隐蔽区/高密度建筑区
* 数字摄影测量
    * 基于数字影像，自动化程度高，是目前采集矢量地图数据最有效的方法。
* 激光测量
    * 直接获取三维密集点云
### 4.遥感数据（RS）
特点：覆盖面积大、速度快、可重复检测  
关键指标：空间分辨率、时间分辨率、光谱分辨率  
### 5.统计数据
数据特点：比表格和文字更有效、易理解。是制作统计类专题地图的数据源。  

常见类型：  
社会经济：人口统计、居民地统计  
自然观测：气象站（等温线）、水文站（等降水量线）
### 6.文字资料  
* 行政区划简册
* 专业区划资料
* 地理学资料
* 政府文告 报刊消息  

### 7.众源地理信息
网络时代的产物  

* 两大类
    * 基础数据：OSM、GPS轨迹
    * 专题数据：带位置的微博、照片、POI
* 优点：时效性高、反映社会行为
* 缺点：存在位置偏差、完整性不足，需专门处理


## 地图数据源的收集与整理
* 经常性的数据收集工作：各级测绘资料部门
* 为新编图的数据收集工作 补充收集渠道
    * 民政部门、交通部门、水利/林业...
    * 原则：全面性、目的性、可定位性
* 非地图资料的定位方法
    * 描述定位、坐标定位
* 地图数据处理
    * 分类登记
    * 检查校对
    * 关联印证

## 地图数据源的分析与评价
* 目的：查明收集的制图资料数据在编图中的可用程度和使用方法
* 方法
    * 经常性分析：专业资料部门负责，针对科学、政治、艺术性。
    * 专门性分析： 针对具体任务，紧扣编图需求。
* 分类
    * 基本资料
    * 补充资料
    * 参考资料
### 分析与评价的内容及标准
* 政治性
    * 国界/境界线
    * 地名，尤其是涉外译名
    * 主权要素（岛屿、界河归属及名称注记）
* 完备性
    * 分类分级：是否满足新编图要求
    * 数量：必须多于新图要求，留有综合余地
    * 概括程度：图形粒度应比新图详细
* 地理适应性
    * 分级合理性：真实
    * 特征反映：体现典型特征
    * 密度对比：各地区密度对比正确
    * 要素关系：协调
* 现势性
    * 成图时间：新
    * 现势修正：是否经过更新维护
    * 要素变化：实地要素变化不一致
* 精确性
    * 数学基础：投影、比例尺、坐标系完整严密
    * 位置精度：特征点相对于坐标网的中误差
* 处理难易程度
    * 投影变换：投影一致或相近较好
    * 数据格式：标准通用便于转换

### 分析与评价的方法：数量分析
* 确定各要素在不同地区的密度对比
* 量算各要素特征点对坐标网交点的中误差
* 确定线状要素的曲折系数或单位长度内的弯曲个数

## 地图数据处理
处理任务：资料数据与新编地图间存在的坐标系统、数据格式、分类分级体系间的转换。  
处理方法：依据所编地图的类型、地图资料使用的方法和程度，处理加工的方法会有差别。  
### 普通地图数据处理
* 坐标系变换
* 地图数据拼接
    * 将分幅数字地图在相邻公共边上进行无缝拼接。
    * 节点和端点的几何位置拼接  
* 地图投影变换
    * 从平面直角到经纬度  
    * 分带变换、投影类型变换  
* 度量变换
*  语义与表达变换
      * 分类分级变换：建立新旧图的映射关系，如把某几类合并为一类
      * 表示方法变换：内容相同但形式不同
      * 符号变换：符号系统标准化
* 技术处理：比例尺与格式
    * 地图比例尺变换
    * 数据格式变换
* 数据光滑处理
    * 信息量的压缩与简化  
    * 常用算法：道格拉斯-普克法 (Douglas-Peucker)，特征点筛选法，距离长度定制比较法  

### 专题地图数据处理
* 数据预处理：将来源不同的数据换算为可比形式，包括单位换算、时间订正及无量纲化处理。
* 数据转换：将原始地理数据转化为制图数据，生成平均值、比率、密度和位势等派生变量

数据标准化方法  

* 标准差标准化（Z-Score）平均值为0，标准差为1
* 极差标准化0-1

量表系统与平均值的适应性  

|量表系统|使用平均值|变化指数|
|--------|-------|--------|
|定名量表（只有类别，没有大小、顺序）|众数|变率|
|顺序量表（有顺序，但没有确定间隔，如满意/一般/不满意）|中位数|十分位数变程|
|间隔量表（有顺序、有间隔但零点是人为的，如摄氏度）|算术平均值|标准差|
|比率量表（有顺序、有间隔、有绝对零点，如开尔文温度）|算术平均值|标准差|

* 比率
* 密度
* 位势模型
    * 点的总位势 = 自身数值 + 所有其他点对该点的影响之和


### 地图数据处理的分级模型
目的：将要素的空间分布统计数据转化为地图符号，反映分布规律和定性差异。

三大分级模型  

* 等差分级
    * 界限等差
    * 间隔递增等差
    * 适用：均匀分布
    * 优点：计算简单，逻辑易懂
    * 缺点：对偏态数据效果差
* 等比分级
    * 界限等比
    * 间隔等比
    * 适用：极差大，低值密集
    * 优点：能区分低值区的细节
    * 缺点：高值区间隔过大，忽略细节
* 统计分级模型
    * 面积相等分级
    * 正态分布分级
    * 适用：正态分布或特定分布
    * 优点：科学
    * 缺点：计算复杂，界限数值不整

### 制图数据分类模型
聚类分析（Cluster Analysis），又称群分析，是研究样本或变量指标分类问题的一种多元统计分析方法。  

* 核心思想：  
    * 相似性度量
    * 聚合分类
    * 制图应用

>R 型：“这堆指标里，哪些其实是一类东西？
>Q 型：“这些地方里，哪些看起来是同一类地区？”\
>R/Q是在分什么对象（工具作用的对象），系统聚类是怎么分（工具）

* Q型聚类：对样本（Sample）进行分类
    * 统计量：距离系数
        * 欧氏距离、马氏距离
    * 统计量：相似系数
        * 夹角余弦、相关系数 
* R型聚类：对变量（Variable）进行分类
* 系统聚类模型
    * 基本思想：先将每个样本各自为一类，根据一定的类间距离或离差准则，逐步合并相近的类，直到满足分类数目。
    * 最短距离法：定义两类间最近样本的距离为两类距离
    * 最长距离法：定义两类间最远样本的距离为两类距离
    * 重心法：...两类重心（平均值点）
    * 离差平方和法：要求同类样品的离差平方和最小，类与类之间最大
    * 树状图表分类模型：依据距离系数矩阵，建立各样本单元相互联系的树状图。
        * 按选定的距离(如最短距离)连接最近的单元.
        * 逐步建立分支，直到所有单元连接成一棵树。
        * 切割：选取一个截断距离值t,横切树状图，即可得到分类结果(如分为4类).
    * 贝利分类模型：逐步替代法，是最短距离法基础上的深化
        * 动态更新： 每合并一次类后，重新计算新类的各项指标平均值。
        * 重新计算： 基于新的平均指标，计算新的距离系数矩阵。
        * 迭代： 重复上述步骤，直到达到所需的分类数目。
        * 优势：能够更好地反映合类后的整体特征，减少单一最短距离造成的"链接"效应，使分类中心更稳定。

### 典型样本单元分类模型
* 1.确定典型：按距离系数矩阵确定最具代表性的"典型样品单元"（如分类数=典型个数）。
* 2.寻找差异
* 3.归类

>gpt对以上表述颇为不满。。。随便吧。


!!! note "23"
    ## 空间数据
    * 空间：表示事物空间位置或所处的地理区域，所以空间特征是定位特征，以坐标数值表示。
    * 属性：表示现象或事件的名称、类别、变量和数量等。
    * 时间：指事物产生、存在随时间的变化，其变化周期是长、短时间不同的演变过程。

    ### 空间数据模型
    基于场(field-based)的空间模型
    * 把地理空间的事物和现象作为连续的变量或体来看待，表示了在二维或者三维空间中，空间实体的属性信息被看作是连续变化的数据。
    * 例如高程、降雨、温度、作物产量。

    基于对象(object-based)的模型。
    * 强调了离散对象,将研究的整个地理空间看成一个空间域，地理实体和现象作为独立的对象分布在该空间域中，根据它们的边界线以及它们的组成或者与它们相关的其它对象，可以详细地描述离散对象。
    * 例如河流、道路。

    ### 空间数据结构
    是指空间数据在计算机内组织和编码形式，是地理实体的空间排
    列和相互关系的抽象描述。表现为两种形式：
    * 矢量（图形）数据
    * 栅格（图像）数据

    #### 矢量数据结构
    以坐标或坐标串及其连线表示空间点、线、面等实体几何图形的数据，称为矢量数据。

    * 实体型
    * 实体即指地理要素个体。实体型矢量结构是以具有点、线和面分布特征的地理要素作为数据记录的基本单元，但不能明确表示各要素之间的相互关系；
    * 拓扑型
    * 拓扑型矢量结构是一种明确记录地理要素空间关系（拓扑关系）的数据结构。拓扑关系包括包含、邻接、相交及分离关系。

    #### 栅格数据结构
    将地表二维平面按行、列等间隔构成像元的格网，每个像元赋予唯一灰度值，按阵列排成的这一灰度值数据，称为栅格数据。

---